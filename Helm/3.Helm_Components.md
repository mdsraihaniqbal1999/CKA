# üìå Helm Components 

Helm is a package manager for Kubernetes that simplifies application deployment and management. Below is a detailed explanation of its core components, challenges it solves, and best practices.

## üì¶ Helm Components (Detailed Explanation)

### 1Ô∏è‚É£ **Chart**
- A Helm chart is a package that contains all necessary Kubernetes resources to deploy an application.
- It includes templates, configurations, and metadata.
- **Challenge Solved**: Standardizes application deployment by packaging everything needed into a single unit.
- **When to Use**: When you need to deploy reusable applications across environments.
- **When Not to Use**: If deploying a simple application with minimal Kubernetes configurations.

### 2Ô∏è‚É£ **Values.yaml**
- A configuration file where users define custom values to override default settings in a Helm chart.
- **Challenge Solved**: Allows environment-specific configurations without modifying the chart itself.
- **When to Use**: When you need to customize application parameters dynamically (e.g., dev, staging, production).
- **When Not to Use**: If the application does not require dynamic configurations.

### 3Ô∏è‚É£ **Templates**
- A set of Kubernetes YAML manifest files that use Go templating to generate resources dynamically.
- **Challenge Solved**: Enables reusable and configurable deployments instead of hardcoded YAML files.
- **When to Use**: When defining Kubernetes resources in a scalable and configurable manner.
- **When Not to Use**: If your deployment is static and does not need templating.

### 4Ô∏è‚É£ **Release**
- A Helm release is an installed version of a Helm chart in a Kubernetes cluster.
- **Challenge Solved**: Enables versioned deployments and rollback capabilities.
- **When to Use**: When deploying applications with Helm to track and manage versions.
- **When Not to Use**: If managing applications manually with `kubectl apply`.

### 5Ô∏è‚É£ **Revision**
- A version history of a Helm release. Every Helm update creates a new revision.
- **Challenge Solved**: Provides rollback functionality in case of deployment failure.
- **When to Use**: When you need version control and rollback options for deployments.
- **When Not to Use**: If versioning is unnecessary or a simple deployment strategy suffices.

---

# üöÄ Creating a Helm Chart from Scratch in VS Code

## üèóÔ∏è 1. Setting Up the Kind Cluster

We will create a Kind cluster with **one control plane node and two worker nodes**.

### Install Kind and Kubectl

Ensure that Kind and kubectl are installed.

```sh
# Install Kind
curl -Lo ./kind https://kind.sigs.k8s.io/dl/latest/kind-linux-amd64
chmod +x kind
mv kind /usr/local/bin/

# Install kubectl
curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"
chmod +x kubectl
mv kubectl /usr/local/bin/
```

### Create a Kind Cluster

```sh
cat <<EOF | kind create cluster --name helm-cluster --config -
kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
nodes:
- role: control-plane
- role: worker
- role: worker
EOF
```

Verify the cluster:

```sh
kubectl get nodes
```

---

## üìÇ 2. Creating a Helm Chart in VS Code

Open VS Code and create a directory for your chart:

```sh
mkdir my-helm-chart && cd my-helm-chart
helm create myapp
```

### Helm Chart Directory Structure

```plaintext
myapp/
‚îú‚îÄ‚îÄ charts/            # Dependencies (if any)
‚îú‚îÄ‚îÄ templates/         # YAML templates for Kubernetes resources
‚îÇ   ‚îú‚îÄ‚îÄ deployment.yaml
‚îÇ   ‚îú‚îÄ‚îÄ service.yaml
‚îÇ   ‚îú‚îÄ‚îÄ _helpers.tpl
‚îÇ   ‚îî‚îÄ‚îÄ NOTES.txt
‚îú‚îÄ‚îÄ values.yaml        # Configuration values
‚îú‚îÄ‚îÄ Chart.yaml         # Metadata about the chart
‚îî‚îÄ‚îÄ README.md          # Documentation
```

---

## üéØ 3. Understanding Helm Releases and Revisions

| Concept     | What is it? |
|------------|------------|
| **Release**  | A specific instance of a Helm chart deployed to a Kubernetes cluster. |
| **Revision** | A version of a Helm release stored in history. Every update creates a new revision. |

### üìå Checking Helm Release History

```sh
helm list
helm history myapp
```

### üöÄ Deploying the Helm Chart as a Release

```sh
helm install myapp ./myapp
```

### üîÑ Updating the Release (Creating a New Revision)

```sh
helm upgrade myapp ./myapp
```

### üîô Rolling Back to a Previous Revision

```sh
helm rollback myapp <revision_number>
```

---


